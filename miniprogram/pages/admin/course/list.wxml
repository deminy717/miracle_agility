<view class="course-list-container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input class="search-input" 
           placeholder="æœç´¢è¯¾ç¨‹åç§°æˆ–æè¿°" 
           value="{{searchKeyword}}"
           bindinput="onSearchInput"
           bindconfirm="onSearch" />
    <button class="search-btn" bindtap="onSearch">æœç´¢</button>
  </view>

  <!-- æ“ä½œæ  -->
  <view class="action-bar">
    <button class="add-btn" bindtap="goToCreate">
      <text class="add-icon">+</text>
      <text>æ–°å»ºè¯¾ç¨‹</text>
    </button>
    <view class="total-count">å…± {{totalCount}} ä¸ªè¯¾ç¨‹</view>
  </view>

  <!-- è¯¾ç¨‹åˆ—è¡¨ -->
  <view class="course-list">
    <view class="course-item" 
          wx:for="{{courseList}}" 
          wx:key="id"
          bindtap="goToDetail"
          data-id="{{item.id}}">
      
      <!-- è¯¾ç¨‹å°é¢ -->
      <view class="course-cover">
        <image src="{{item.coverImage || '/static/images/default-course.png'}}" 
               mode="aspectFill" />
        <view class="course-level">{{item.level || 'L1'}}</view>
      </view>

      <!-- è¯¾ç¨‹ä¿¡æ¯ -->
      <view class="course-info">
        <view class="course-title">{{item.title}}</view>
        <view class="course-desc">{{item.desc || 'æš‚æ— æè¿°'}}</view>
        
        <view class="course-meta">
          <text class="meta-item">è®²å¸ˆï¼š{{item.instructor || 'æœªçŸ¥'}}</text>
          <text class="meta-item">æ—¶é•¿ï¼š{{item.duration || '0'}}åˆ†é’Ÿ</text>
          <text class="meta-item">ä»·æ ¼ï¼šÂ¥{{item.price || 0}}</text>
          <text class="meta-item">{{item.createTime}}</text>
        </view>

        <!-- æ“ä½œæŒ‰é’® -->
        <view class="course-actions">
          <button class="action-btn edit" 
                  bindtap="editCourse"
                  data-id="{{item.id}}"
                  catchtap="true">ç¼–è¾‘</button>
          <button class="action-btn delete" 
                  bindtap="deleteCourse"
                  data-id="{{item.id}}"
                  catchtap="true">åˆ é™¤</button>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:if="{{courseList.length === 0 && !loading}}" class="empty-state">
      <text class="empty-icon">ğŸ“š</text>
      <text class="empty-text">æš‚æ— è¯¾ç¨‹æ•°æ®</text>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view wx:if="{{hasMore}}" class="load-more" bindtap="loadMore">
      <text wx:if="{{!loadingMore}}">ç‚¹å‡»åŠ è½½æ›´å¤š</text>
      <text wx:else>åŠ è½½ä¸­...</text>
    </view>

    <!-- æ²¡æœ‰æ›´å¤š -->
    <view wx:elif="{{courseList.length > 0}}" class="no-more">
      <text>æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view> 