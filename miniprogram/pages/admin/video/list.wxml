<view class="video-list-container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input class="search-input" 
           placeholder="æœç´¢è§†é¢‘æ ‡é¢˜æˆ–æè¿°" 
           value="{{searchKeyword}}"
           bindinput="onSearchInput"
           bindconfirm="onSearch" />
    <button class="search-btn" bindtap="onSearch">æœç´¢</button>
  </view>

  <!-- æ“ä½œæ  -->
  <view class="action-bar">
    <button class="add-btn" bindtap="goToCreate">
      <text class="add-icon">+</text>
      <text>æ–°å»ºè§†é¢‘</text>
    </button>
    <view class="total-count">å…± {{totalCount}} ä¸ªè§†é¢‘</view>
  </view>

  <!-- è§†é¢‘åˆ—è¡¨ -->
  <view class="video-list">
    <view class="video-item" 
          wx:for="{{videoList}}" 
          wx:key="id"
          bindtap="goToDetail"
          data-id="{{item.id}}">
      
      <!-- è§†é¢‘å°é¢ -->
      <view class="video-cover">
        <image src="{{item.coverImage || '/static/images/default-video.png'}}" 
               mode="aspectFill" />
        <view class="video-duration">{{item.duration || '00:00'}}</view>
      </view>

      <!-- è§†é¢‘ä¿¡æ¯ -->
      <view class="video-info">
        <view class="video-title">{{item.title}}</view>
        <view class="video-desc">{{item.desc || 'æš‚æ— æè¿°'}}</view>
        
        <view class="video-meta">
          <text class="meta-item">ä½œè€…ï¼š{{item.author || 'æœªçŸ¥'}}</text>
          <text class="meta-item">æ’­æ”¾ï¼š{{item.viewCount || 0}}</text>
          <text class="meta-item">{{item.createTime}}</text>
        </view>

        <!-- æ“ä½œæŒ‰é’® -->
        <view class="video-actions">
          <button class="action-btn edit" 
                  bindtap="editVideo"
                  data-id="{{item.id}}"
                  catchtap="true">ç¼–è¾‘</button>
          <button class="action-btn delete" 
                  bindtap="deleteVideo"
                  data-id="{{item.id}}"
                  catchtap="true">åˆ é™¤</button>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:if="{{videoList.length === 0 && !loading}}" class="empty-state">
      <text class="empty-icon">ğŸ“¹</text>
      <text class="empty-text">æš‚æ— è§†é¢‘æ•°æ®</text>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view wx:if="{{hasMore}}" class="load-more" bindtap="loadMore">
      <text wx:if="{{!loadingMore}}">ç‚¹å‡»åŠ è½½æ›´å¤š</text>
      <text wx:else>åŠ è½½ä¸­...</text>
    </view>

    <!-- æ²¡æœ‰æ›´å¤š -->
    <view wx:elif="{{videoList.length > 0}}" class="no-more">
      <text>æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view> 