<view class="chapter-create-page">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">æ–°å¢ç« èŠ‚</text>
    <text class="page-subtitle">ä¸ºè¯¾ç¨‹æ·»åŠ æ–°çš„ç« èŠ‚å†…å®¹</text>
  </view>

  <!-- è¡¨å•å†…å®¹ -->
  <view class="form-container">
    <!-- ç« èŠ‚æ ‡é¢˜ -->
    <view class="form-item">
      <text class="form-label">ç« èŠ‚æ ‡é¢˜ *</text>
      <input 
        class="form-input" 
        placeholder="è¯·è¾“å…¥ç« èŠ‚æ ‡é¢˜ï¼ˆ3-100å­—ç¬¦ï¼‰"
        value="{{formData.title}}"
        bindinput="onTitleInput"
        maxlength="100"
      />
      <view class="char-count">{{formData.title.length}}/100</view>
      <view class="error-tip" wx:if="{{errors.title}}">{{errors.title}}</view>
    </view>

    <!-- ç« èŠ‚æè¿° -->
    <view class="form-item">
      <text class="form-label">ç« èŠ‚æè¿° *</text>
      <textarea 
        class="form-textarea" 
        placeholder="è¯·è¾“å…¥ç« èŠ‚æè¿°ï¼ˆ10-300å­—ç¬¦ï¼‰"
        value="{{formData.description}}"
        bindinput="onDescriptionInput"
        maxlength="300"
        auto-height
      />
      <view class="char-count">{{formData.description.length}}/300</view>
      <view class="error-tip" wx:if="{{errors.description}}">{{errors.description}}</view>
    </view>

    <!-- ç« èŠ‚å†…å®¹ -->
    <view class="form-item">
      <text class="form-label">ç« èŠ‚å†…å®¹ *</text>
      <view class="content-editor">
        <button class="editor-btn" bindtap="editContent">
          <text class="editor-icon">ğŸ“</text>
          <text class="editor-text">
            {{formData.content ? 'ç¼–è¾‘ç« èŠ‚å†…å®¹' : 'æ·»åŠ ç« èŠ‚å†…å®¹'}}
          </text>
        </button>
        <view class="content-preview" wx:if="{{formData.content}}">
          <text class="preview-text">{{contentPreview}}</text>
        </view>
      </view>
      <view class="error-tip" wx:if="{{errors.content}}">{{errors.content}}</view>
    </view>

    <!-- ç« èŠ‚æ—¶é•¿ -->
    <view class="form-item">
      <text class="form-label">é¢„è®¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</text>
      <input 
        class="form-input" 
        placeholder="è¯·è¾“å…¥ç« èŠ‚å­¦ä¹ æ—¶é•¿"
        value="{{formData.duration}}"
        bindinput="onDurationInput"
        type="number"
      />
    </view>

    <!-- ç« èŠ‚æ’åº -->
    <view class="form-item">
      <text class="form-label">ç« èŠ‚é¡ºåº</text>
      <picker 
        class="form-picker" 
        bindchange="onOrderChange" 
        value="{{orderIndex}}" 
        range="{{orderOptions}}"
      >
        <view class="picker-text">{{orderOptions[orderIndex]}}</view>
      </picker>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn btn-secondary" bindtap="saveDraft" disabled="{{saving}}">
      <text wx:if="{{saving}}">ä¿å­˜ä¸­...</text>
      <text wx:else>ä¿å­˜è‰ç¨¿</text>
    </button>
    <button class="btn btn-primary" bindtap="publishChapter" disabled="{{saving}}">
      <text wx:if="{{saving}}">å‘å¸ƒä¸­...</text>
      <text wx:else>ç«‹å³å‘å¸ƒ</text>
    </button>
  </view>
</view>