<view class="course-create-page">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">æ–°å¢è¯¾ç¨‹</text>
    <text class="page-subtitle">åˆ›å»ºä¸€ä¸ªæ–°çš„è®­ç»ƒè¯¾ç¨‹</text>
  </view>

  <!-- è¡¨å•å†…å®¹ -->
  <view class="form-container">
    <!-- è¯¾ç¨‹æ ‡é¢˜ -->
    <view class="form-item">
      <text class="form-label">è¯¾ç¨‹æ ‡é¢˜ *</text>
      <input 
        class="form-input" 
        placeholder="è¯·è¾“å…¥è¯¾ç¨‹æ ‡é¢˜ï¼ˆ3-50å­—ç¬¦ï¼‰"
        value="{{formData.title}}"
        bindinput="onTitleInput"
        maxlength="50"
      />
      <view class="char-count">{{formData.title.length}}/50</view>
      <view class="error-tip" wx:if="{{errors.title}}">{{errors.title}}</view>
    </view>

    <!-- è¯¾ç¨‹ä»‹ç» -->
    <view class="form-item">
      <text class="form-label">è¯¾ç¨‹ä»‹ç» *</text>
      <textarea 
        class="form-textarea" 
        placeholder="è¯·è¾“å…¥è¯¾ç¨‹ä»‹ç»ï¼ˆ10-500å­—ç¬¦ï¼‰"
        value="{{formData.description}}"
        bindinput="onDescriptionInput"
        maxlength="500"
        auto-height
      />
      <view class="char-count">{{formData.description.length}}/500</view>
      <view class="error-tip" wx:if="{{errors.description}}">{{errors.description}}</view>
    </view>

    <!-- è¯¾ç¨‹å°é¢ -->
    <view class="form-item">
      <text class="form-label">è¯¾ç¨‹å°é¢ *</text>
      <view class="image-upload">
        <view class="image-preview" wx:if="{{formData.cover}}">
          <image src="{{formData.cover}}" mode="aspectFill" />
          <view class="image-delete" bindtap="deleteCover">
            <text class="delete-icon">Ã—</text>
          </view>
        </view>
        <view class="upload-btn" wx:else bindtap="chooseCover">
          <text class="upload-icon">ğŸ“·</text>
          <text class="upload-text">é€‰æ‹©å°é¢å›¾ç‰‡</text>
        </view>
      </view>
      <view class="error-tip" wx:if="{{errors.cover}}">{{errors.cover}}</view>
    </view>

    <!-- è¯¾ç¨‹åˆ†ç±» -->
    <view class="form-item">
      <text class="form-label">è¯¾ç¨‹åˆ†ç±»</text>
      <picker 
        class="form-picker" 
        bindchange="onCategoryChange" 
        value="{{categoryIndex}}" 
        range="{{categoryOptions}}"
      >
        <view class="picker-text">{{categoryOptions[categoryIndex]}}</view>
      </picker>
    </view>

    <!-- è¯¾ç¨‹æ ‡ç­¾ -->
    <view class="form-item">
      <text class="form-label">è¯¾ç¨‹æ ‡ç­¾</text>
      <input 
        class="form-input" 
        placeholder="è¯·è¾“å…¥æ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”"
        value="{{formData.tags}}"
        bindinput="onTagsInput"
      />
      <view class="form-tip">ä¾‹å¦‚ï¼šåŸºç¡€è®­ç»ƒ,æ•æ·æ€§,åˆå­¦è€…</view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn btn-secondary" bindtap="saveDraft" disabled="{{saving}}">
      <text wx:if="{{saving}}">ä¿å­˜ä¸­...</text>
      <text wx:else>ä¿å­˜è‰ç¨¿</text>
    </button>
    <button class="btn btn-primary" bindtap="publishCourse" disabled="{{saving}}">
      <text wx:if="{{saving}}">å‘å¸ƒä¸­...</text>
      <text wx:else>ç«‹å³å‘å¸ƒ</text>
    </button>
  </view>
</view>