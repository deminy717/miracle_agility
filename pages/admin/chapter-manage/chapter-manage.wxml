<view class="chapter-manage-page">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">ç« èŠ‚ç®¡ç†</text>
    <text class="page-subtitle">{{courseInfo.title}}</text>
  </view>

  <!-- è¯¾ç¨‹ä¿¡æ¯å¡ç‰‡ -->
  <view class="course-info-card">
    <view class="course-cover">
      <image src="{{courseInfo.cover}}" mode="aspectFill" />
    </view>
    <view class="course-details">
      <text class="course-title">{{courseInfo.title}}</text>
      <view class="course-stats">
        <text class="stat-item">{{chapters.length}}ä¸ªç« èŠ‚</text>
        <text class="stat-item">{{courseInfo.studentCount}}äººå­¦ä¹ </text>
      </view>
    </view>
  </view>

  <!-- ç« èŠ‚åˆ—è¡¨ -->
  <view class="chapters-section">
    <view class="section-header">
      <text class="section-title">ç« èŠ‚åˆ—è¡¨</text>
      <button class="add-chapter-btn" bindtap="addChapter">
        <text class="btn-icon">+</text>
        <text class="btn-text">æ–°å¢ç« èŠ‚</text>
      </button>
    </view>

    <view class="chapters-list">
      <view 
        class="chapter-item" 
        wx:for="{{chapters}}" 
        wx:key="id"
        bindtap="viewChapter"
        data-chapter="{{item}}"
      >
        <view class="chapter-number">{{index + 1}}</view>
        <view class="chapter-info">
          <text class="chapter-title">{{item.title}}</text>
          <text class="chapter-description">{{item.description}}</text>
          <view class="chapter-meta">
            <text class="meta-item">{{item.lessonCount}}ä¸ªè¯¾æ—¶</text>
            <text class="meta-item">{{item.duration}}åˆ†é’Ÿ</text>
            <text class="meta-item status-{{item.status}}">{{item.status === 'published' ? 'å·²å‘å¸ƒ' : 'è‰ç¨¿'}}</text>
          </view>
        </view>
        
        <view class="chapter-actions">
          <view class="action-btn edit-btn" bindtap="editChapter" data-id="{{item.id}}">
            <text class="btn-icon">âœï¸</text>
          </view>
          <view class="action-btn lesson-btn" bindtap="manageLessons" data-id="{{item.id}}">
            <text class="btn-icon">ğŸ“</text>
          </view>
          <view class="action-btn move-btn" bindtap="moveChapter" data-id="{{item.id}}" data-direction="up" wx:if="{{index > 0}}">
            <text class="btn-icon">â¬†ï¸</text>
          </view>
          <view class="action-btn move-btn" bindtap="moveChapter" data-id="{{item.id}}" data-direction="down" wx:if="{{index < chapters.length - 1}}">
            <text class="btn-icon">â¬‡ï¸</text>
          </view>
          <view class="action-btn delete-btn" bindtap="deleteChapter" data-id="{{item.id}}">
            <text class="btn-icon">ğŸ—‘ï¸</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{chapters.length === 0}}">
      <text class="empty-icon">ğŸ“–</text>
      <text class="empty-text">æš‚æ— ç« èŠ‚</text>
      <text class="empty-tip">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®åˆ›å»ºç¬¬ä¸€ä¸ªç« èŠ‚</text>
    </view>
  </view>
</view>