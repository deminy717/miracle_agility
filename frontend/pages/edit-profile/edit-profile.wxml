<view class="edit-profile-page">
  <!-- å¤´åƒç¼–è¾‘ -->
  <view class="avatar-section">
    <view class="section-title">å¤´åƒ</view>
    <view class="avatar-container">
      <button class="avatar-btn" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
        <image 
          class="avatar-preview" 
          src="{{userInfo.avatar}}" 
          mode="aspectFill"
        />
        <view class="avatar-overlay">
          <text class="camera-icon">ğŸ“·</text>
          <text class="avatar-hint">ç‚¹å‡»æ›´æ¢å¤´åƒ</text>
        </view>
      </button>
      <view class="avatar-tip">æ”¯æŒä»å¾®ä¿¡å¤´åƒæˆ–ç›¸å†Œé€‰æ‹©</view>
    </view>
  </view>

  <!-- æ˜µç§°ç¼–è¾‘ -->
  <view class="form-section">
    <view class="section-title">æ˜µç§°</view>
    <view class="input-container">
      <input 
        class="nickname-input"
        type="nickname"
        placeholder="è¯·è¾“å…¥æ˜µç§°"
        value="{{userInfo.nickname}}"
        bindinput="onNicknameInput"
        maxlength="20"
      />
      <view class="input-counter">{{nicknameLength}}/20</view>
    </view>
  </view>

  <!-- ä¸ªäººä¿¡æ¯è¡¨å• -->
  <view class="form-section">
    <view class="section-title">ä¸ªäººä¿¡æ¯</view>
    
    <!-- æ€§åˆ«é€‰æ‹© -->
    <view class="form-item">
      <view class="form-label">æ€§åˆ«</view>
      <picker 
        class="form-picker"
        mode="selector" 
        range="{{genderList}}" 
        range-key="name"
        value="{{genderIndex}}"
        bindchange="onGenderChange"
      >
        <view class="picker-text {{genderIndex === -1 ? 'placeholder' : ''}}">
          {{genderIndex !== -1 ? genderList[genderIndex].name : 'è¯·é€‰æ‹©æ€§åˆ«'}}
        </view>
      </picker>
    </view>

    <!-- æ‰‹æœºå· -->
    <view class="form-item">
      <view class="form-label">æ‰‹æœºå·</view>
      <input 
        class="form-input"
        type="number"
        placeholder="è¯·è¾“å…¥æ‰‹æœºå·"
        value="{{userInfo.phone}}"
        bindinput="onPhoneInput"
        maxlength="11"
      />
    </view>

    <!-- åœ°åŒºé€‰æ‹© -->
    <view class="form-item">
      <view class="form-label">æ‰€åœ¨åœ°åŒº</view>
      <picker 
        class="form-picker"
        mode="region" 
        value="{{region}}"
        bindchange="onRegionChange"
      >
        <view class="picker-text">
          {{region[0]}} {{region[1]}} {{region[2]}}
        </view>
      </picker>
    </view>

    <!-- èŒä¸š -->
    <view class="form-item">
      <view class="form-label">èŒä¸š</view>
      <input 
        class="form-input"
        type="text"
        placeholder="è¯·è¾“å…¥èŒä¸š"
        value="{{userInfo.profession}}"
        bindinput="onProfessionInput"
        maxlength="20"
      />
    </view>

    <!-- ä¸ªäººç®€ä»‹ -->
    <view class="form-item bio-item">
      <view class="form-label">ä¸ªäººç®€ä»‹</view>
      <textarea 
        class="bio-textarea"
        placeholder="ä»‹ç»ä¸€ä¸‹ä½ å’Œä½ çš„ç‹—ç‹—å§"
        value="{{userInfo.bio}}"
        bindinput="onBioInput"
        maxlength="200"
        show-confirm-bar="{{false}}"
        auto-height
      />
      <view class="textarea-counter">{{bioLength}}/200</view>
    </view>
  </view>

  <!-- è®­ç»ƒç»éªŒ -->
  <view class="form-section">
    <view class="section-title">è®­ç»ƒç»éªŒ</view>
    
    <!-- è®­ç»ƒå¹´é™ -->
    <view class="form-item">
      <view class="form-label">è®­ç»ƒå¹´é™</view>
      <picker 
        class="form-picker"
        mode="selector" 
        range="{{experienceList}}" 
        range-key="name"
        value="{{experienceIndex}}"
        bindchange="onExperienceChange"
      >
        <view class="picker-text {{experienceIndex === -1 ? 'placeholder' : ''}}">
          {{experienceIndex !== -1 ? experienceList[experienceIndex].name : 'è¯·é€‰æ‹©è®­ç»ƒå¹´é™'}}
        </view>
      </picker>
    </view>

    <!-- æ“…é•¿é¡¹ç›® -->
    <view class="form-item">
      <view class="form-label">æ“…é•¿é¡¹ç›®</view>
      <input 
        class="form-input"
        type="text"
        placeholder="å¦‚ï¼šæ•æ·è®­ç»ƒã€æœä»è®­ç»ƒç­‰"
        value="{{userInfo.specialties}}"
        bindinput="onSpecialtiesInput"
        maxlength="50"
      />
    </view>
  </view>

  <!-- ä¿å­˜æŒ‰é’® -->
  <view class="save-container">
    <button 
      class="save-btn {{canSave ? 'active' : 'disabled'}}" 
      bindtap="onSave"
      disabled="{{!canSave}}"
    >
      ä¿å­˜ä¿®æ”¹
    </button>
  </view>

  <!-- åº•éƒ¨å®‰å…¨è·ç¦» -->
  <view class="safe-area-bottom"></view>
</view> 