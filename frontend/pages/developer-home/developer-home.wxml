<!--pages/developer-home/developer-home.wxml-->
<view class="container">
  
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="header">
    <text class="title">ğŸ› ï¸ å¼€å‘è€…å·¥å…·</text>
    <text class="subtitle">è°ƒè¯•å’Œæµ‹è¯•åŠŸèƒ½</text>
  </view>

  <!-- å½“å‰çŠ¶æ€ -->
  <view class="status-section">
    <view class="status-card">
      <view class="status-item">
        <text class="status-label">å½“å‰ç¯å¢ƒ</text>
        <text class="status-value {{currentEnv === 'development' ? 'dev' : 'prod'}}">
          {{currentEnv === 'development' ? 'å¼€å‘ç¯å¢ƒ' : 'ç”Ÿäº§ç¯å¢ƒ'}}
        </text>
      </view>
      <view class="status-item">
        <text class="status-label">ç”¨æˆ·ç±»å‹</text>
        <text class="status-value user">{{currentUserType === 'admin' ? 'ç®¡ç†å‘˜' : currentUserType === 'developer' ? 'å¼€å‘è€…' : 'æ™®é€šç”¨æˆ·'}}</text>
      </view>
    </view>
  </view>

  <!-- ç¯å¢ƒç®¡ç† -->
  <view class="section">
    <view class="section-title">ğŸŒ ç¯å¢ƒç®¡ç†</view>
    <view class="action-grid">
      <button class="action-btn primary" bindtap="toggleEnvironment">
        åˆ‡æ¢ç¯å¢ƒ
      </button>
      <button class="action-btn secondary" bindtap="refreshData">
        åˆ·æ–°æ•°æ®
      </button>
    </view>
  </view>

  <!-- ç”¨æˆ·ç®¡ç† -->
  <view class="section">
    <view class="section-title">ğŸ‘¤ ç”¨æˆ·ç®¡ç†</view>
    <view class="action-grid">
      <button class="action-btn primary" bindtap="toggleUserType">
        åˆ‡æ¢ç”¨æˆ·ç±»å‹
      </button>
    </view>
  </view>

  <!-- APIæµ‹è¯• -->
  <view class="section">
    <view class="section-title">ğŸ”§ APIæµ‹è¯•</view>
    <view class="action-grid">
      <button class="action-btn test" bindtap="testUserAPI">
        æµ‹è¯•ç”¨æˆ·API
      </button>
      <button class="action-btn test" bindtap="testCourseAPI">
        æµ‹è¯•è¯¾ç¨‹API
      </button>
      <button class="action-btn test" bindtap="testNewsAPI">
        æµ‹è¯•èµ„è®¯API
      </button>
    </view>
  </view>

  <!-- å¼€å‘å·¥å…· -->
  <view class="section">
    <view class="section-title">ğŸ› ï¸ å¼€å‘å·¥å…·</view>
    <view class="action-grid">
      <button class="action-btn warning" bindtap="clearStorage">
        æ¸…ç©ºå­˜å‚¨
      </button>
      <button class="action-btn info" bindtap="viewLogs">
        æŸ¥çœ‹æ—¥å¿—
      </button>
    </view>
  </view>

  <!-- æµ‹è¯•ç»“æœ -->
  <view class="section" wx:if="{{testResult}}">
    <view class="section-title">ğŸ“‹ æµ‹è¯•ç»“æœ</view>
    <view class="test-result">
      <text>{{testResult}}</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="section">
    <view class="section-title">ğŸ“Š ç³»ç»Ÿç»Ÿè®¡</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{stats.totalUsers}}</text>
        <text class="stat-label">æ€»ç”¨æˆ·æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.totalCourses}}</text>
        <text class="stat-label">æ€»è¯¾ç¨‹æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.totalArticles}}</text>
        <text class="stat-label">æ€»æ–‡ç« æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.todayActiveUsers}}</text>
        <text class="stat-label">ä»Šæ—¥æ´»è·ƒ</text>
      </view>
    </view>
  </view>

</view>