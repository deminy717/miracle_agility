<view class="access-code-container">
  <!-- è¯¾ç¨‹ä¿¡æ¯å¤´éƒ¨ -->
  <view class="course-header">
    <view class="course-title">{{courseTitle}}</view>
    <view class="course-stats">
      <view class="stat-item">
        <view class="stat-number">{{accessCodes.length}}</view>
        <view class="stat-label">æ€»æ•°</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{usedCount}}</view>
        <view class="stat-label">å·²ä½¿ç”¨</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{unusedCount}}</view>
        <view class="stat-label">æœªä½¿ç”¨</view>
      </view>
    </view>
  </view>

  <!-- æˆæƒç åˆ—è¡¨ -->
  <view class="access-code-list" wx:if="{{accessCodes.length > 0}}">
    <view class="code-item" wx:for="{{accessCodes}}" wx:key="id">
      <!-- æˆæƒç ä¿¡æ¯ - åŒä¸€è¡Œæ˜¾ç¤º -->
      <view class="code-header">
        <text class="code-text" bindtap="copyCode" data-code="{{item.code}}">{{item.code}}</text>
        <view class="status-badge status-{{item.status}}">{{item.statusText}}</view>
      </view>
      
      <!-- æ³¨å†Œä¿¡æ¯ - æ¯è¡Œæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯ -->
      <view class="code-info">
        <view class="info-row">
          <text class="info-text">æ³¨å†Œç”¨æˆ·ï¼š{{item.registeredUserName || 'æœªæ³¨å†Œ'}}</text>
        </view>
        
        <view class="info-row" wx:if="{{item.registeredAt}}">
          <text class="info-text">æ³¨å†Œæ—¶é—´ï¼š{{item.registeredAt}}</text>
        </view>
        
        <!-- æˆæƒç æœ‰æ•ˆæœŸ -->
        <view class="info-row">
          <text class="info-text {{item.isCodeExpired ? 'expired' : ''}}">
            æˆæƒç æœ‰æ•ˆæœŸï¼š{{item.codeValidUntil}}
            <text wx:if="{{item.isCodeExpired && !item.registeredUserName}}" class="expired-tag">å·²å¤±æ•ˆ</text>
          </text>
        </view>
        
        <!-- è¯¾ç¨‹æœ‰æ•ˆæœŸ -->
        <view class="info-row">
          <text class="info-text">è¯¾ç¨‹æœ‰æ•ˆæœŸï¼š{{item.courseValidityText}}</text>
        </view>
        
        <!-- ä½¿ç”¨æƒ…å†µ -->
        <view class="info-row">
          <text class="info-text">ä½¿ç”¨æƒ…å†µï¼š{{item.usedCount}}/{{item.usageLimit}}</text>
        </view>
        
        <!-- è¯´æ˜ä¿¡æ¯ -->
        <view class="info-row" wx:if="{{item.description}}">
          <text class="info-text">è¯´æ˜ï¼š{{item.description}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{accessCodes.length === 0}}">
    <view class="empty-icon">ğŸ“„</view>
    <view class="empty-text">è¯¥è¯¾ç¨‹è¿˜æ²¡æœ‰ä»»ä½•æˆæƒç </view>
    <view class="empty-desc">è¯·åœ¨è¯¾ç¨‹ç®¡ç†é¡µé¢ç”Ÿæˆæˆæƒç </view>
  </view>
</view> 